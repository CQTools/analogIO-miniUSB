<PropertyLabel@Label>:
    halign: 'left'
    text_size: self.width, None
    #color: [0,0,0,1]
    font_size: 35

<EchoLabel@PropertyLabel>:
    halign: 'center'
    text_size: self.width, None
    #color: [0,0,0,1]
    font_size: 35



<AnalogIOControl>:

    do_default_tab: False
    background_color: [0,0,0,0]
    TabbedPanelItem:
        text: 'Setup'
        Label:
            


      
        
            GridLayout:
                id: connection_box
                cols: 1
                x: root.width / 8
                width: root.width / 2
                top: root.height - root.height/8
                row_default_height: 70
                row_force_default: True
        
                PropertyLabel:
                    text: 'Serial port'
                
                Spinner:
                    id: connection_input
                    text: 'Select Serial Port'
                    values: root.serial_ports_android()
                    size_hint_y: None
                    
                
                
        
                Button:
                    text: 'connect' if not root.connected else 'disconnect'
                    on_release: root.connect_to_analogio(connection_input.text)
        
            GridLayout:
                id: main_params
                cols: 2
                x: connection_box.x
                width: connection_box.width
                row_default_height: connection_box.row_default_height
                top: connection_box.y - self.row_default_height*2
                row_force_default: True

                PropertyLabel:
                    text: 'Serial'
        
                EchoLabel:
                    text: str(root.serial)         
        
                PropertyLabel:
                    text: 'Voltage Channel 0'
        
                EchoLabel:
                    text: str(root.voltage) 
                    
            AnchorLayout:
        
                anchor_x: 'left'
                anchor_y: 'bottom'
        
                x: root.x + 0.7*root.width
                y: root.y + 0.5*root.height
        
                width: 0.3 * root.width
                height: 0.3 * root.height        

        

                Image:
                    source: root.logo
                    size: [240,192]
                    size_hint: None, None


    TabbedPanelItem:
        text: 'ADC'
        Label: 
            GridLayout:
                id: power_pannel
                cols: 4
                x: root.width / 8
                width: root.width/1.2
                top: root.height - root.height / 2
                row_default_height: 50
                row_force_default: True
                spacing: [40,40]

                PropertyLabel:
                    text: 'Channel 0'

                PropertyLabel:
                    text: 'Channel 1'

                PropertyLabel:
                    text: 'Channel 2'

                PropertyLabel:
                    text: 'Channel 3'

                EchoLabel:
                    text: str(root.voltage_0)   

                EchoLabel:
                    text: str(root.voltage_1)

                EchoLabel:
                    text: str(root.voltage_2)   

                EchoLabel:
                    text: str(root.voltage_3)   
   





    TabbedPanelItem:
        text: 'ADC Plot'
        Label: 

            AnchorLayout:
        
                anchor_x: 'left'
                anchor_y: 'bottom'
        
                x: root.x + 0.1*root.width
                y: root.y + 0.1*root.height
        
                width: 0.8 * root.width
                height: 0.8 * root.height
        

                Graph:
                    id: graph1
                    xlabel: 'Time (Sec)'
                    ylabel: 'Voltage (V)'
                    ymin: 0
                    ymax: 4.0
                    xmin: 0
                    xmax: 150
                    y_grid: True
                    y_ticks_major: 2
                    y_grid_label: 'True'
                    x_grid_label: 'True'
                    #x_grid: 'True'
                    x_ticks_major: 50
                    label_options: dict(color=[1,1,1,1],bold='True')
    TabbedPanelItem:
        text: 'ADC Log'
        Label: 
            text:'Coming in a future version'


    TabbedPanelItem:
        text: 'DAC Out'
        Label: 
            GridLayout:
                id: power_pannel
                cols: 2
                x: root.width / 8
                width: root.width/1.2
                top: root.height - root.height / 4
                row_default_height: 50
                row_force_default: True
                spacing: [40,40]

                Slider:
                    id: slider_0
                    min: 0.0
                    max: 4.095
                    step: 0.001
                    

                FloatInput:
                    id: DAC_0
                    text: str(slider_0.value)         
                    on_text_validate: #root.update_DAC(root.DAC_0,0)
                    text.bind:  root.update_DAC(root.DAC_0,0)
                    font_size: 35

                Slider:
                    id: slider_1
                    min: 0.0
                    max: 4.095
                    step: 0.001

                FloatInput:
                    id: DAC_1
                    text: str(slider_0.value)         
                    on_text_validate: root.update_DAC(root.DAC_1,1)
                    font_size: 35

                Slider:
                    id: slider_2
                    min: 0.0
                    max: 4.095
                    step: 0.001

                FloatInput:
                    id: DAC_2
                    text: str(root.DAC_2)           
                    on_text_validate: root.update_DAC(root.DAC_2,2)
                    font_size: 35

                Slider:
                    id: slider_3
                    min: 0.0
                    max: 4.095
                    step: 0.001

                FloatInput:
                    id: DAC_3
                    text: str(root.DAC_3)           
                    on_text_validate: root.update_DAC(root.DAC_3,3)
                    font_size: 35
        
        
                

    TabbedPanelItem:
        text: 'Digital Out'
        Label: 
            text:'Coming in a future version'
            
            
